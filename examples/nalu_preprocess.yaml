# -*- mode: yaml -*-
#
# Nalu Preprocessing Utility - Example input file
#

# Mandatory section for Nalu preprocessing
nalu_preprocess:
  # Name of the input exodus database
  input_db: ekmanSpiral.g
  # Name of the output exodus database
  output_db: ekmesh.g
  # Flag indicating whether the database contains 8-bit integers
  ioss_8bit_ints: false

  # Flag indicating mesh decomposition type
  # automatic_decomposition_type: rcb

  # Nalu preprocessor expects a list of tasks to be performed on the mesh and
  # field data structures
  tasks:
    - init_abl_fields
    - generate_planes
    - init_ekman_layer

  # Inputs for each "task" is organized under the section corresponding to the
  # task name
  init_abl_fields:
    fluid_parts: [Unspecified-2-HEX]

    temperature:
      heights: [    0, 650.0, 750.0, 10750.0]
      values:  [280.0, 280.0, 288.0,   318.0]

    velocity:
      heights: [0.0, 10.0, 30.0, 70.0, 100.0, 650.0, 10000.0]
      values:
        - [ 0.0, 0.0, 0.0]
        - [4.81947, -4.81947, 0.0]
        - [5.63845, -5.63845, 0.0]
        - [6.36396, -6.36396, 0.0]
        - [6.69663, -6.69663, 0.0]
        - [8.74957, -8.74957, 0.0]
        - [8.74957, -8.74957, 0.0]

  generate_planes:
    fluid_part: Unspecified-2-hex

    heights: [ 70.0 ]
    part_name_format: "zplane_%06.1f"

    dx: 12.0
    dy: 12.0

  calc_ndtw2d:
    fluid_parts:
      - Unspecified-2-QUAD
      - Unspecified-3-QUAD
      - Unspecified-4-QUAD
      - Unspecified-5-QUAD
      - Unspecified-6-QUAD
      - Unspecified-7-QUAD
      - Unspecified-8-QUAD
      - Unspecified-9-QUAD
      - Unspecified-10-QUAD
      - Unspecified-11-QUAD

    wall_parts:
      - airfoil


  init_ekman_layer:
    fluid_parts: [Unspecified-2-HEX]

    velocity:
      G: 1.0
      alpha: 0.0
      D: 1.0
      ky: 0.5

      perturb: True

      avxHeights: [0.0 , 0.390625 , 0.78125 , 1.171875 , 1.5625 , 1.953125 , 2.34375 , 2.734375 , 3.125 , 3.515625 , 3.90625 , 4.296875 , 4.6875 , 5.078125 , 5.46875 , 5.859375 , 6.25 , 6.640625 , 7.03125 , 7.421875 , 7.8125 , 8.203125 , 8.59375 , 8.984375 , 9.375 , 9.765625 , 10.15625 , 10.546875 , 10.9375 , 11.328125 , 11.71875 , 12.109375 , 12.5 , 12.890625 , 13.28125 , 13.671875 , 14.0625 , 14.453125 , 14.84375 , 15.234375 , 15.625 , 16.015625 , 16.40625 , 16.796875 , 17.1875 , 17.578125 , 17.96875 , 18.359375 , 18.75 , 19.140625 , 19.53125 , 19.921875 , 20.3125 , 20.703125 , 21.09375 , 21.484375 , 21.875 , 22.265625 , 22.65625 , 23.046875 , 23.4375 , 23.828125 , 24.21875 , 24.609375 , 25.0]
      avx:
        - [ -6.2858610609133142e-20,  -3.1505983699579488e-20 ]
        - [ -5.6834615830216322e-05,  -2.4301058401603564e-05 ]
        - [ -9.2233353236304596e-05,   1.0947280796089526e-05 ]
        - [ -9.9107990159807172e-05,   3.9258891221936659e-05 ]
        - [ -9.3789036225398962e-05,   1.9809540915843891e-05 ]
        - [ -5.2591456880770987e-05,  -1.2863757628302377e-05 ]
        - [ -7.7405597328922959e-06,  -1.1292923563865262e-05 ]
        - [  6.7160290928069817e-06,   2.8383736752462419e-06 ]
        - [  5.5856272142703096e-06,   7.0452192576755280e-06 ]
        - [  3.4144461725280205e-06,   5.3504141182863312e-06 ]
        - [  2.1661837713423701e-06,   3.1190786270868298e-06 ]
        - [  1.3546614910330005e-06,   1.5313872864113833e-06 ]
        - [  8.2956215860144307e-07,   5.6483553635321870e-07 ]
        - [  5.2371917944819475e-07,   5.9089536550466357e-08 ]
        - [  3.5869225946533828e-07,  -1.5286484032617236e-07 ]
        - [  2.7080708836665759e-07,  -2.0614764947770458e-07 ]
        - [  2.2027755814739860e-07,  -1.8933074062840400e-07 ]
        - [  1.8611870884550090e-07,  -1.5099226052393199e-07 ]
        - [  1.5888450610729956e-07,  -1.1316611519746202e-07 ]
        - [  1.3509701678592470e-07,  -8.3199395265689056e-08 ]
        - [  1.1385191759849830e-07,  -6.1677772210728984e-08 ]
        - [  9.5084616248097304e-08,  -4.6834562780302429e-08 ]
        - [  7.8839524646946034e-08,  -3.6598507488916722e-08 ]
        - [  6.5046386344165709e-08,  -2.9324814119526669e-08 ]
        - [  5.3508365474707094e-08,  -2.3911198469692807e-08 ]
        - [  4.3953663352174858e-08,  -1.9690170881507110e-08 ]
        - [  3.6088624615711974e-08,  -1.6281194769843018e-08 ]
        - [  2.9633570564717535e-08,  -1.3470671212975367e-08 ]
        - [  2.4340910942586473e-08,  -1.1133084052110924e-08 ]
        - [  2.0000758130810819e-08,  -9.1860762954318420e-09 ]
        - [  1.6439498582159404e-08,  -7.5678768187052692e-09 ]
        - [  1.3515267832825228e-08,  -6.2273643642631791e-09 ]
        - [  1.1112651878930932e-08,  -5.1203281251930057e-09 ]
        - [  9.1377461759108535e-09,  -4.2082817387016285e-09 ]
        - [  7.5139789515113841e-09,  -3.4580602276433119e-09 ]
        - [  6.1787409307822977e-09,  -2.8414933552067807e-09 ]
        - [  5.0807149336600018e-09,  -2.3349644692546332e-09 ]
        - [  4.1777650754620046e-09,  -1.9188676706245368e-09 ]
        - [  3.4352562814859133e-09,  -1.5770316266614293e-09 ]
        - [  2.8247025935112168e-09,  -1.2961665396876973e-09 ]
        - [  2.3226705510225834e-09,  -1.0653684150052260e-09 ]
        - [  1.9098834072856822e-09,  -8.7569455475535009e-10 ]
        - [  1.5704858702183453e-09,  -7.1980912210744447e-10 ]
        - [  1.2914382514078909e-09,  -5.9169097286327848e-10 ]
        - [  1.0620176018035876e-09,  -4.8639555467455256e-10 ]
        - [  8.7340759067790771e-10,  -3.9986132071600742e-10 ]
        - [  7.1835983898904746e-10,  -3.2875092225427473e-10 ]
        - [  5.9091615370924452e-10,  -2.7032188070547624e-10 ]
        - [  4.8617906402963168e-10,  -2.2232075656572868e-10 ]
        - [  4.0012385139778500e-10,  -1.8289653195514486e-10 ]
        - [  3.2944369473438235e-10,  -1.5052836776748039e-10 ]
        - [  2.7142270979696852e-10,  -1.2396726685827947e-10 ]
        - [  2.2383157254249789e-10,  -1.0218834615286187e-10 ]
        - [  1.8484164370592356e-10,  -8.4351528573673770e-11 ]
        - [  1.5295494095952781e-10,  -6.9769211902215043e-11 ]
        - [  1.2694613178679906e-10,  -5.7878866365175072e-11 ]
        - [  1.0581504611926826e-10,  -4.8221843101270353e-11 ]
        - [  8.8749260947719494e-11,  -4.0426001521162949e-11 ]
        - [  7.5092855157197801e-11,  -3.4190697281303707e-11 ]
        - [  6.4321186296971867e-11,  -2.9275405015888270e-11 ]
        - [  5.6020564381503376e-11,  -2.5489840746046313e-11 ]
        - [  4.9872550376258149e-11,  -2.2685315540428393e-11 ]
        - [  4.5645344689266236e-11,  -2.0750401622645351e-11 ]
        - [  4.3181390125627397e-11,  -1.9616284462241205e-11 ]
        - [  4.2375344466054715e-11,  -1.9246331137735440e-11 ]

      avyHeights: [0.0 , 0.390625 , 0.78125 , 1.171875 , 1.5625 , 1.953125 , 2.34375 , 2.734375 , 3.125 , 3.515625 , 3.90625 , 4.296875 , 4.6875 , 5.078125 , 5.46875 , 5.859375 , 6.25 , 6.640625 , 7.03125 , 7.421875 , 7.8125 , 8.203125 , 8.59375 , 8.984375 , 9.375 , 9.765625 , 10.15625 , 10.546875 , 10.9375 , 11.328125 , 11.71875 , 12.109375 , 12.5 , 12.890625 , 13.28125 , 13.671875 , 14.0625 , 14.453125 , 14.84375 , 15.234375 , 15.625 , 16.015625 , 16.40625 , 16.796875 , 17.1875 , 17.578125 , 17.96875 , 18.359375 , 18.75 , 19.140625 , 19.53125 , 19.921875 , 20.3125 , 20.703125 , 21.09375 , 21.484375 , 21.875 , 22.265625 , 22.65625 , 23.046875 , 23.4375 , 23.828125 , 24.21875 , 24.609375 , 25.0]
      avy:
        - [ -9.5285533703461842e-18,  -3.2579235392859041e-17 ]
        - [ -3.3654458554660755e-05,   9.7837548538364127e-06 ]
        - [ -9.2865396466660720e-06,   2.5123188705892654e-05 ]
        - [  1.9749150815018697e-05,   2.3249244109860757e-05 ]
        - [  3.0298621702341467e-05,   2.0576863985052309e-05 ]
        - [  2.0478458458595868e-05,   1.6852926889044132e-05 ]
        - [  6.2118940353695667e-06,   5.3550512769135475e-06 ]
        - [ -5.4911714609957095e-07,  -5.9438890640376329e-06 ]
        - [ -2.5700129982701132e-06,  -1.1275981705438173e-05 ]
        - [ -3.3242435950991348e-06,  -1.2514539653037225e-05 ]
        - [ -3.4476789893203804e-06,  -1.1909095488942109e-05 ]
        - [ -3.1425767736504236e-06,  -1.0498195723656400e-05 ]
        - [ -2.6665667821879736e-06,  -8.8437915489620619e-06 ]
        - [ -2.1826503915216957e-06,  -7.2657430571623368e-06 ]
        - [ -1.7587248893966835e-06,  -5.9016170537713526e-06 ]
        - [ -1.4118317098074701e-06,  -4.7795109160000533e-06 ]
        - [ -1.1365872794043265e-06,  -3.8771667827415061e-06 ]
        - [ -9.2009408568996522e-07,  -3.1563143273725049e-06 ]
        - [ -7.4910613572331973e-07,  -2.5790184193462639e-06 ]
        - [ -6.1270137180849811e-07,  -2.1136670675029011e-06 ]
        - [ -5.0269042594349228e-07,  -1.7358543564415267e-06 ]
        - [ -4.1315803084846176e-07,  -1.4272729552131035e-06 ]
        - [ -3.3983538819683055e-07,  -1.1741862738198821e-06 ]
        - [ -2.7957124702710974e-07,  -9.6610801917294033e-07 ]
        - [ -2.2995980986238116e-07,  -7.9484025962260048e-07 ]
        - [ -1.8910288462203270e-07,  -6.5382880806493534e-07 ]
        - [ -1.5546485327580951e-07,  -5.3774517599490301e-07 ]
        - [ -1.2778437498830005e-07,  -4.4221277176194116e-07 ]
        - [ -1.0501801256415711e-07,  -3.6361907566167223e-07 ]
        - [ -8.6301014693617080e-08,  -2.9897797281431820e-07 ]
        - [ -7.0917392640792659e-08,  -2.4582225364050724e-07 ]
        - [ -5.8275506823815900e-08,  -2.0211591808828675e-07 ]
        - [ -4.7887474480605048e-08,  -1.6618100017339254e-07 ]
        - [ -3.9351630526577112e-08,  -1.3663609636752750e-07 ]
        - [ -3.2337658505012509e-08,  -1.1234480538520837e-07 ]
        - [ -2.6574101327149336e-08,  -9.2372691763736197e-08 ]
        - [ -2.1837948186871916e-08,  -7.5951563604462279e-08 ]
        - [ -1.7945998307965718e-08,  -6.2449933989755830e-08 ]
        - [ -1.4747746115727464e-08,  -5.1348698918058647e-08 ]
        - [ -1.2119542804637578e-08,  -4.2221106339415550e-08 ]
        - [ -9.9597933415711493e-09,  -3.4716307629911304e-08 ]
        - [ -8.1850186699369606e-09,  -2.8545845750443100e-08 ]
        - [ -6.7266191576185384e-09,  -2.3472563858548060e-08 ]
        - [ -5.5282260431737425e-09,  -1.9301471975163260e-08 ]
        - [ -4.5435178477864070e-09,  -1.5872248722473359e-08 ]
        - [ -3.7344323840133411e-09,  -1.3053088760763946e-08 ]
        - [ -3.0696986906260744e-09,  -1.0735634885685426e-08 ]
        - [ -2.5236206416967856e-09,  -8.8308112798957384e-09 ]
        - [ -2.0750901718135421e-09,  -7.2654051440738466e-09 ]
        - [ -1.7067746207999982e-09,  -5.9792521776686500e-09 ]
        - [ -1.4044372275224442e-09,  -4.9229168108018096e-09 ]
        - [ -1.1563872539963613e-09,  -4.0557963160929895e-09 ]
        - [ -9.5303229171262455e-10,  -3.3445633929551543e-09 ]
        - [ -7.8651549616497882e-10,  -2.7618826919524922e-09 ]
        - [ -6.5040333970205258e-10,  -2.2853679597070142e-09 ]
        - [ -5.3943417665360172e-10,  -1.8966995027617899e-09 ]
        - [ -4.4932347368059923e-10,  -1.5809286542647565e-09 ]
        - [ -3.7659335587325364e-10,  -1.3259169588939522e-09 ]
        - [ -3.1843880884829499e-10,  -1.1218590448129919e-09 ]
        - [ -2.7260831128989446e-10,  -9.6091426975427622e-10 ]
        - [ -2.3732144391320150e-10,  -8.3690567393437188e-10 ]
        - [ -2.1118998426978192e-10,  -7.4506102248972452e-10 ]
        - [ -1.9314524650994913e-10,  -6.8186490230876136e-10 ]
        - [ -1.8249196140192235e-10,  -6.4498927104434594e-10 ]
        - [ -1.7895875053779795e-10,  -6.3302310326897353e-10 ]

      avzHeights: [0.0 , 0.390625 , 0.78125 , 1.171875 , 1.5625 , 1.953125 , 2.34375 , 2.734375 , 3.125 , 3.515625 , 3.90625 , 4.296875 , 4.6875 , 5.078125 , 5.46875 , 5.859375 , 6.25 , 6.640625 , 7.03125 , 7.421875 , 7.8125 , 8.203125 , 8.59375 , 8.984375 , 9.375 , 9.765625 , 10.15625 , 10.546875 , 10.9375 , 11.328125 , 11.71875 , 12.109375 , 12.5 , 12.890625 , 13.28125 , 13.671875 , 14.0625 , 14.453125 , 14.84375 , 15.234375 , 15.625 , 16.015625 , 16.40625 , 16.796875 , 17.1875 , 17.578125 , 17.96875 , 18.359375 , 18.75 , 19.140625 , 19.53125 , 19.921875 , 20.3125 , 20.703125 , 21.09375 , 21.484375 , 21.875 , 22.265625 , 22.65625 , 23.046875 , 23.4375 , 23.828125 , 24.21875 , 24.609375 , 25.0]
      avz:
        - [ -7.4947170058994378e-17,  -4.8801291067305559e-17 ]
        - [  4.8043141787869634e-07,   4.6502899112208805e-06 ]
        - [  4.1931191672560380e-06,   9.3047985132737452e-06 ]
        - [  9.0672219412572270e-06,   8.0791830993302500e-06 ]
        - [  1.3285375348503984e-05,   2.8227469737252903e-06 ]
        - [  1.7053599753081299e-05,  -2.3769963133341735e-06 ]
        - [  1.9312506517515797e-05,  -4.9022818556167649e-06 ]
        - [  1.9171886119654524e-05,  -5.3331359380015911e-06 ]
        - [  1.7398689330969040e-05,  -4.9918601896958536e-06 ]
        - [  1.5031805503063148e-05,  -4.4046869877991416e-06 ]
        - [  1.2627374549880883e-05,  -3.7343116682065430e-06 ]
        - [  1.0431442404023060e-05,  -3.0860044044374519e-06 ]
        - [  8.5418592286784804e-06,  -2.5176030189665336e-06 ]
        - [  6.9714613768622877e-06,  -2.0446813020002018e-06 ]
        - [  5.6895190895656541e-06,  -1.6609949713340945e-06 ]
        - [  4.6502833752140254e-06,  -1.3526188986785722e-06 ]
        - [  3.8081850557410343e-06,  -1.1048191848185499e-06 ]
        - [  3.1239525357109524e-06,  -9.0481491681307932e-07 ]
        - [  2.5659185973908954e-06,  -7.4245044450532726e-07 ]
        - [  2.1092514997869247e-06,  -6.0994994884370866e-07 ]
        - [  1.7345815760332500e-06,  -5.0140058593406302e-07 ]
        - [  1.4266859931449101e-06,  -4.1225680217370751e-07 ]
        - [  1.1734470948502938e-06,  -3.3895778966267589e-07 ]
        - [  9.6509412648736831e-07,  -2.7866002336500816e-07 ]
        - [  7.9366814247844949e-07,  -2.2905781380390764e-07 ]
        - [  6.5264246216207762e-07,  -1.8826279009927581e-07 ]
        - [  5.3664540393632814e-07,  -1.5472010679892064e-07 ]
        - [  4.4124942796622652e-07,  -1.2714693899538590e-07 ]
        - [  3.6280461137128698e-07,  -1.0448479143362853e-07 ]
        - [  2.9830347569535182e-07,  -8.5860968808577168e-08 ]
        - [  2.4526952647707156e-07,  -7.0556709818244128e-08 ]
        - [  2.0166473754455933e-07,  -5.7980588253517969e-08 ]
        - [  1.6581268535060118e-07,  -4.7646291126733300e-08 ]
        - [  1.3633479738017964e-07,  -3.9154112568516534e-08 ]
        - [  1.1209761456585391e-07,  -3.2175607448069530e-08 ]
        - [  9.2169270532238112e-08,  -2.6440912185072646e-08 ]
        - [  7.5783643200198342e-08,  -2.1728296847792431e-08 ]
        - [  6.2310862251424654e-08,  -1.7855573149603747e-08 ]
        - [  5.1233061513458637e-08,  -1.4673036674687182e-08 ]
        - [  4.2124448397358360e-08,  -1.2057669902570062e-08 ]
        - [  3.4634925990274753e-08,  -9.9083811155403753e-09 ]
        - [  2.8476630693666464e-08,  -8.1420942985235848e-09 ]
        - [  2.3412865109081673e-08,  -6.6905372931590078e-09 ]
        - [  1.9248998988031516e-08,  -5.4976028940801544e-09 ]
        - [  1.5824990452468478e-08,  -4.5171800508059580e-09 ]
        - [  1.3009234833055320e-08,  -3.7113721541352343e-09 ]
        - [  1.0693506128515312e-08,  -3.0490315380487413e-09 ]
        - [  8.7887977742696688e-09,  -2.5045560343195282e-09 ]
        - [  7.2219012681383330e-09,  -2.0568996331238881e-09 ]
        - [  5.9325915175129395e-09,  -1.6887582970725395e-09 ]
        - [  4.8713128062351434e-09,  -1.3859008462018718e-09 ]
        - [  3.9972742242191368e-09,  -1.1366201872656877e-09 ]
        - [  3.2768814560130360e-09,  -9.3128101230252720e-10 ]
        - [  2.6824456071510672e-09,  -7.6194667662395336e-10 ]
        - [  2.1911179117236891e-09,  -6.2207146728134222e-10 ]
        - [  1.7840118971834795e-09,  -5.0624807929336795e-10 ]
        - [  1.4454797924667826e-09,  -4.0999876744893837e-10 ]
        - [  1.1625110360184166e-09,  -3.2960101589643497e-10 ]
        - [  9.2423051742236517e-10,  -2.6194420309816851e-10 ]
        - [  7.2148169080337152e-10,  -2.0440956589778347e-10 ]
        - [  5.4647174015802352e-10,  -1.5477094092549457e-10 ]
        - [  3.9247412322339912e-10,  -1.1111051661633670e-10 ]
        - [  2.5356967194982266e-10,  -7.1749116078474978e-11 ]
        - [  1.2440921077463687e-10,  -3.5183036475831101e-11 ]
        - [ -8.2454062391376463e-17,   4.2569581695704854e-17 ]
